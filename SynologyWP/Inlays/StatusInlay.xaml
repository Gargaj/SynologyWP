<UserControl
    x:Class="SynologyWP.Inlays.StatusInlay"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SynologyWP.Inlays"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:i="using:Microsoft.Xaml.Interactivity"
    xmlns:c="using:Microsoft.Xaml.Interactions.Core" 
    mc:Ignorable="d"
    d:DesignHeight="300"
    d:DesignWidth="400">
  <StackPanel Orientation="Vertical">
    <TextBlock Text="{Binding MachineName}" FontSize="32" TextAlignment="Center"/>
    <TextBlock TextAlignment="Center">
      <Run>Uptime:</Run>
      <Run Text="{Binding Uptime}"/>
    </TextBlock>

    <TextBlock Text="Volumes" FontSize="24"/>
    <ListView ItemsSource="{Binding Volumes}">
      <ListView.Resources>
        <Style TargetType="ListViewItem">
          <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        </Style>
      </ListView.Resources>
      <ListView.ItemTemplate>
        <DataTemplate>
          <StackPanel Orientation="Vertical" Margin="0,10,0,0">
            <TextBlock Text="{Binding Name}" FontWeight="Bold" TextAlignment="Left"/>
            <TextBlock Foreground="{ThemeResource SystemColorGrayTextBrush}">
              <Run Text="{Binding UsedSizeString}"/>
              <Run>/</Run>
              <Run Text="{Binding TotalSizeString}"/>
              <Run>(</Run><Run Text="{Binding PercentageString}"/><Run>)</Run>
            </TextBlock>
            <ProgressBar Maximum="1" Value="{Binding Percentage}" Height="8" Margin="0,5,0,0"/>
          </StackPanel>
        </DataTemplate>
      </ListView.ItemTemplate>
    </ListView>

    <TextBlock Text="Notifications" FontSize="24"/>
    <ListView ItemsSource="{Binding Notifications}">
      <ListView.Resources>
        <Style TargetType="ListViewItem">
          <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        </Style>
      </ListView.Resources>
      <ListView.ItemTemplate>
        <DataTemplate>
          <StackPanel Orientation="Vertical" Margin="0,10,0,0">
            <StackPanel Orientation="Horizontal">
              <TextBlock Text="{Binding Title}" FontWeight="Bold" TextAlignment="Left"/>
              <TextBlock Text="{Binding TimeString}" Margin="5,0,0,0" FontSize="10" Foreground="{ThemeResource SystemColorGrayTextBrush}" VerticalAlignment="Center"/>
            </StackPanel>
            <TextBlock Text="{Binding Description}" Margin="5,0,0,0" TextAlignment="Left" TextWrapping="WrapWholeWords"/>
          </StackPanel>
        </DataTemplate>
      </ListView.ItemTemplate>
    </ListView>

  </StackPanel>
</UserControl>
